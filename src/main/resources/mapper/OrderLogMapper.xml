<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.scoprion.mall.backstage.mapper.OrderLogMapper">
    <!-- 添加日志信息 -->
    <insert id="add" parameterType="com.scoprion.mall.domain.OrderLog">
        INSERT INTO t_order_log(
          orderNo,
          orderId,
          action,
          ipAddress,
          createDate
        ) VALUES (
         #{orderNo},
         #{orderId},
         #{action},
         #{ipAddress},
         now()
        )
    </insert>
    <!--根据订单id查询订单日志-->
    <select id="findByOrderId" resultType="com.scoprion.mall.domain.OrderLog">
        SELECT
        id,
        orderNo,
        action,
        ipAddress,
        createDate,
        orderId
        FROM t_order_log
        WHERE orderId=#{orderId}
    </select>
</mapper>